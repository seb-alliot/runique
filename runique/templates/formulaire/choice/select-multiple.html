<div class="field-group mb-3">
    <label class="form-label">
        {{ label }}{% if required %} *{% endif %}
    </label>

    <div class="checkbox-group">
        {% for option in options %}
            <div class="form-check">
                <input
                    type="checkbox"
                    name="{{ name }}"   {# pas de [] pour Rust #}
                    id="id_{{ name }}_{{ loop.index }}"
                    value="{{ option.value }}"
                    class="form-check-input {% if error %}is-invalid{% endif %}"
                    {% if value and option.value in value %}checked{% endif %}>
                <label class="form-check-label" for="id_{{ name }}_{{ loop.index }}">
                    {{ option.label }}
                </label>
            </div>
        {% endfor %}
    </div>

    {% if error %}
        <div class="invalid-feedback d-block">
            {{ error }}
        </div>
    {% endif %}
</div>
