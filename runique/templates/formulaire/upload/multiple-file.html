<div class="field-group mb-3">
    <label for="id_{{ name }}" class="form-label">
        {{ label }}
        {% if required %} *{% endif %}
    </label>

    {% set placeholder_text = "Choisir des fichiers..." %}
    {% if accept %}
        {% set placeholder_text = "Formats acceptÃ©s : " ~ accept %}
    {% endif %}

    <input
        type="file"
        name="{{ name }}"
        id="id_{{ name }}"
        class="form-control {% if error %}is-invalid{% endif %}"
        {% if accept %}accept="{{ accept }}"{% endif %}
        {% if max_files %}data-max-files="{{ max_files }}"{% endif %}
        {% if min_files %}data-min-files="{{ min_files }}"{% endif %}
        multiple
        aria-label="{{ placeholder_text }}">

    {% if min_files or max_files %}
        <small class="form-text text-muted">
            {% if min_files %}Minimum {{ min_files }} fichiers requis. {% endif %}
            {% if max_files %}Maximum {{ max_files }} fichiers. {% endif %}
        </small>
    {% endif %}

    {% if value and value != "" %}
        <div class="mt-2 p-2 bg-light rounded">
            <small class="text-muted d-block mb-1">ðŸ“Ž Fichiers actuels :</small>
            <ul class="list-unstyled mb-0 ms-3">
                {% set files = value | split(pat=",") %}
                {% for file in files %}
                    <li class="mb-1">
                        <a href="{{ value_url_prefix }}/{{ file | trim }}" target="_blank">
                            {{ file | trim }}
                        </a>
                    </li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}

    {% if error %}
        <div class="invalid-feedback d-block">
            {{ error }}
        </div>
    {% endif %}

    {% if help_text %}
        <div class="form-text">
            {{ help_text }}
        </div>
    {% endif %}
</div>
