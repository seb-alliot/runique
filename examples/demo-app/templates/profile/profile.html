{% extends "index.html" %}
{% block content %}

<div class="content">
    <h1>{{ title }}</h1>

    <div class="form-container">
        <form method="post" id="userform" action="/user/{{ user_id }}/{{ name }}">
            {% csrf %}
            <div>
                <div>
                    <div>
                        <input
                            placeholder="Nom d'utilisateur"
                            type="text"
                            id="username"
                            name="username"
                            value="{{ form.cleaned_data.username | default(value='') }}"
                        >
                        {% if form.errors.username %}
                            <span class="error">{{ form.errors.username }}</span>
                        {% endif %}
                    </div>
                </div>

                <div>
                    <div>
                        <input
                            placeholder="Votre email"
                            type="email"
                            id="email"
                            name="email"
                            value="{{ form.cleaned_data.email | default(value='') }}"
                        >
                        {% if form.errors.email %}
                            <span class="error">{{ form.errors.email }}</span>
                        {% endif %}
                    </div>
                </div>

                <div>
                    <div>
                        <input
                            placeholder="Votre âge"
                            type="text"
                            id="age"
                            name="age"
                            value="{{ form.cleaned_data.age | default(value='') }}"
                        >
                        {% if form.errors.age %}
                            <span class="error">{{ form.errors.age }}</span>
                        {% endif %}
                    </div>
                </div>

                <div>
                    <div>
                        <input
                            placeholder="Mot de passe"
                            type="password"
                            id="password"
                            name="password"
                        >
                        {% if form.errors.password %}
                            <span class="error">{{ form.errors.password }}</span>
                        {% endif %}
                    </div>
                </div>
            </div>

            <div>
                <button type="submit">Enregistrer</button>
            </div>
        </form>
    </div>
</div>
    {% block script %}
    <script src='{% static "js/test_csrf.js" %}'></script>
    {% endblock %}

{% endblock %}
{% block footer %}
    <a href={% link "index" %}>Revenir à l'accueil</a>
    <p>&copy; 2025 My Web Application</p>
{% endblock %}
